This file is generated by Yujia Zhang on Jan.9th, 2025. 
-------------------------------------------------------------------------------------------------------------------------------------------------------
GENERAL INFORMATION

1. Author Information

	A) Principal Investigator Contact Information:
		Name: Oleg Igoshin
		Institution: Rice University 
		Email: igoshin@rice.edu

-------------------------------------------------------------------------------------------------------------------------------------------------------
SHARING/ACCESS INFORMATION

1. Was data derived from another source? Yes
	A) Source of experimental data:
		Name of publication: Autoregulation of the Master Regulator Spo0A Controls Cell-fate Decisions in Bacillus subtilis
		Corresponding author: Masaya Fujita
		Email: mfujita@uh.edu

	B) Source of 0A~P concentration as biophysical model input: 
		Name of publication: Bacillus subtilis Histidine Kinase KinC Activates Biofilm Formation by Controlling Heterogeneity of Single-Cell Responses (derived from Figure 3B 'WT')
		Corresponding author: Masaya Fujita, Oleg Igoshin
		Email: mfujita@uh.edu, igoshin@rice.edu

-------------------------------------------------------------------------------------------------------------------------------------------------------
DATA & FILE OVERVIEW

1. Directory List: 

	'FigureX': Related to generation of Figure X in the main manuscript. X = 2:3,7
	'PvPs_kinetic': Related to formulation of and promoter activity data fitting to the model with kinetic control on both promoters
	'PvPs_thermo': Related to formulation of and promoter activity data fitting to the model with thermodynamic control on both promoters
	'Pvkinetic_Psthermo': Related to formulation of and promoter activity data fitting to the model with kinetic control on Pv and thermodynamic control on Ps
	'Pvthermo_Pskinetic': Related to formulation of and promoter activity data fitting to the model with thermodynamic control on Pv and kinetic control on Ps
	'EMSA_single_site_only': Related to formulation and EMSA data fitting to the statistical thermodynamical model
	'sigHsigA_analysis': Related to fitting PcitG and Ps strain 'none' promoter activity together, and fitting Physpank and Pv strain 'none' promoter activity together
	'biophysical_model_result_summary': Related to analysis of all four biophysical model results

2. Are there multiple versions of the dataset? No

	All experimental datasets have been saved as '.mat' (MATLAB Data) files, including:

	A) 'new_promoter_activity_single.mat': experimental measurement of spo0A promoter activity for strains with a single promoter
		'new_real_data_Pv': for'Pv strain', mean measurement for each mutant strain (per column) at each time point (per row, starting t = 2h)
		'new_real_data_Ps': for'Ps strain', ...
		'new_Pv_only_std': for'Pv strain', standard deviation in measurement for each mutant strain (per column) at each time point (per row, starting t = 2h)
		'new_Ps_only_std': for'Ps strain', ...

	B) 'new_PsPv_promoter_activity.mat': experimental measurement of spo0A promoter activity for strains with two promoters
		'PvPs_avg_new': for'PvPs strain', mean measurement for each mutant strain (per column) at each time point (per row, starting t = 2h)
		'PvPs_std_new': for'PvPs strain', standard deviation in measurement for each mutant strain (per column) at each time point (per row, starting t = 2h)

	C) 'raw_EMSA_Data_Dec_2023.mat': mean experimental measurement of fraction of bound DNA fragments across multiple biological replicates
		'A1_present': for DNA fragment containing 0A1 only, at varying concentration of 0A~P (first column), mean (second column) and standard deviation (third column) of measured fraction
		'A12_present': ... 0A1 and 0A2 ...
		...

	D) 'raw_EMSA_data_detail.mat': experimental measurement of fraction of bound DNA fragments of multiple biological replicates
		'A1_present_raw': for DNA fragment containing 0A1 only, measured fraction of biological replicate 1 (first column), 2 (second column), 3 (third column) ... at varying concentration of 0A~P (per row)
		'A2_present_raw': ... 0A2 only ...
		...

	E) 'sigA_sigH_real_data.mat': experimental measurement of constitutive promoter activity
		'citG_mean': mean measurement of consitutively induced PcitG
		'Physpac_mean': ... Physpank
		'citG_st': standard deviation in measurments across multiple biological replicates for consitutively induced PcitG
		'Physpac_st': ... Physpank

-------------------------------------------------------------------------------------------------------------------------------------------------------
FIGURE GENERATION 

	Figure 2D-I:
		Under directory 'Figure2', run 'real_data_plot.m'
	Figure 3A-G:
		Under directory 'Figure3', run 'real_data_plot_norm_twice.m'
	Figure 4A:
		Under directory 'EMSA_single_site_only', run 'Main_single_original_data_n4.m'
	Figure 4B:
		Under directory 'EMSA_single_site_only', run 'Main_multiple_resampled_augdata.m'
	Figure 5B-G:
		Under directory 'PvPs_kinetic', run 'best_fit_model_sim_data_plot.m'
	Figure 6A-C:
		Under directory 'PvPs_kinetic', run 'best_fit_model_prediction.m'
	Figure 7A-C: 
		Under directory 'PvPs_kinetic', run 'best_fit_model_manipulation.m'
	Figure 7D:
		Under directory 'Figure7', run 'plot_common_R_both_AandH.m'


	Figure S1:
		Under directory 'EMSA_single_site_only', run 'Main_single_original_data_n2.m'
	Figure S2:
		Under directory 'EMSA_single_site_only', run 'Main_predict_doublesite_data.m'
	Figure S3:
		Under directory 'Figure2', run 'tf_dynamics_plot.m'
	Figure S4:
		Under directory 'biophysical_model_result_summary', run 'plot_all_model_errors.m' 
	Figure S5:
		Under directory 'PvPs_kinetic', run 'kinetic_vs_thermo_additive_general.m'
	Figure S6:
		Under directory 'PvPs_kinetic', run 'best_fit_exam_prob_allboxbound_nopromoter.m'
	Figure S7:
		Under directory 'PvPs_kinetic', run 'best_fit_model_prediction_constant_pol.m'
	Figure S8:
		Under directory 'PvPs_kinetic', run 'best_fit_model_prediction.m'
	Figure S9:
		Under directory 'PvPs_kinetic', run 'sim_data_plot_norm_twice.m'
	Figure S10:
		Under directory 'sigHsigA_analysis', run 'plot_sigA_sigH_experiment.m' (last figure generated)


-------------------------------------------------------------------------------------------------------------------------------------------------------
TABLE GENERATION 

	Figure 6D (table):
		Under directory 'PvPs_kinetic', run 'dissect_0AP_RNAP_fold_increase.m' (see generated numerical arrays named 'pc_const_holoenzyme_xxx.m', xxx = 'v' or 's' or 'vs')
	Table S2:
		Under directory 'EMSA_single_site_only', compare 'original_EMSA_n2_nonorm_singlesitecurvefit.txt' and 'original_EMSA_n4_nonorm_singlesitecurvefit' (error as the last element of each row)
	Table S4:
		Under directory 'PvPs_kinetic', run 'best_fit_model_prediction.m'
	Table S5:
		Under 'biophysical_model_result_summary', run 'compute_BIC_v2.m'
	Table S6: 
		Under directory 'PvPs_kinetic', run 'dissect_0AP_RNAP_fold_increase.m' (see generated numerical arrays named 'fc_const_holoenzyme_xxx.m' or 'fc_const_TF_xxx.m', xxx = 'v' or 's' or 'vs')

-------------------------------------------------------------------------------------------------------------------------------------------------------
FITTING PROMOTER ACTIVITY DATA TO BIOPHYSICAL MODELS
	Under each directory 'PvPs_kinetic', 'PvPs_thermo','Pvkinetic_Psthermo', 'Pvthermo_Pskinetic'
		
		A) model fitting:
			run 'local_run.m'
		Note: index of each iteration is passed into generating a random number for the optimization algorithm. Model fitting will generate a text file recording all best-fit parameters and error

		B) model prediction using optimized parameters
			run 'prediction_using_opt_pars.m'
		Note: this reads the same file generated from step A) and compare experimental and model predictions in plots. An example text file has been provided.

-------------------------------------------------------------------------------------------------------------------------------------------------------
FITTING EMSA DATA TO STATISTICAL THERMODYNAMIC MODELS
	Under directory 'EMSA_single_site_only'
		A) fitting mean experimental EMSA data to model assuming different cooperativity (2 or 4)
			run 'Main_single_original_data_nX.m', X = 2 or 4 
		Note: model fitting will generate a text file recording all best-fit parameters and error for multiple optimizations
		
		B) augmenting mean experimental data to obtain 1000 resampled datasets, then fitting each dataset to model
			run 'Main_multiple_resampled_augdata.m'
		Note: model fitting will generate a text file recording all best-fit parameters and error for each dataset

		C) predicting fraction of bound DNA for strains with multiple 0A boxes present
			run 'Main_predict_doublesite_data.m'
		Note: this can read the text file generated from either A) or B)

-------------------------------------------------------------------------------------------------------------------------------------------------------
FITTING spo0A and non-spo0A PROMOTER ACTIVITY DATA TO BIOPHYSICAL MODELS WITH COMMON SIGMA FACTOR DYNAMICS
	Under directory 'sigHsigA_analysis':
		A) fitting PcitG and Ps strain 'none' promoter activity together assuming the same sigmaH-RNAP dynamics:
			run 'main_find_commonR_citGspo0A.m'

		B) fitting Physpank and Pv strain 'none' promoter activity together assuming the same sigmaA-RNAP dynamics:
			run 'main_find_commonR_hyspankspo0A.m'


